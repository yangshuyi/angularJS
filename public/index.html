<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title ng-bind="title"></title>
    <link rel="stylesheet" href="lib/bootstrap-3.3.5-dist/css/bootstrap.css">
    <link rel="stylesheet" href="style/lib.css">
    <link rel="stylesheet" href="style/core.css">
</head>

<body ng-app="mainApp" ng-controller="indexCtrl" class="container">
<div>

    <header></header>

    <div class="row">
        <div ui-view="mainView"></divui-view>
        </div>

        <footer></footer>
        <script src="lib/lodash-3.10.1/lodash.js"></script>
        <script src="lib/jquery-ui-1.11.4/external/jquery/jquery.js"></script>
        <script src="lib/angular-1.4.3/angular.js"></script>
        <script src="lib/bootstrap-3.3.5-dist/js/bootstrap.js"></script>
        <script src="lib/angular-ui-bootstrap-0.13.3/ui-bootstrap-0.13.3.js"></script>
        <script src="lib/angular-ui-bootstrap-0.13.3/ui-bootstrap-tpls-0.13.3.js"></script>

        <script src="lib/angular-sanitize/angular-sanitize.js"></script>
        <script src="lib/angular-ui-router/release/angular-ui-router.js"></script>

        <!-- Defined JS lib-->

        <script src="ngapp/common/widget/NumberField.js"></script>
        <script src="ngapp/common/widget/PasswordField.js"></script>
        <script src="ngapp/common/widget/TelNoField.js"></script>
        <script src="ngapp/common/widget/TextField.js"></script>


        <script src="ngapp/common/component/Header.js"></script>
        <script src="ngapp/common/component/Footer.js"></script>

        <script src="ngapp/common/Module.js"></script>


        <!-- user -->
        <script src="ngapp/bsdemo/bsdemo.js"></script>
        <script src="ngapp/core/user/userService.js"></script>

        <script>
            angular.module("mainApp", ['common', 'bsdemo']);

            angular.module("mainApp").config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {
                $urlRouterProvider.when('/', 'ngapp/bsdemo/bsdemo.html');
                $stateProvider.state('dashboard', {
                    url: '/dashboard',
                    views: {
                        mainView: {
                            templateUrl: 'main/main.html',
                            controller: ['$scope', function ($scope, $rootScope) {

                            }],
                        }
                    }
                })
                $stateProvider.state('bsdemo', {
                    url: '/bsdemo',
                    views: {
                        mainView: {
                            templateUrl: 'ngapp/bsdemo/bsdemo.html',
                            controller: ['$scope', function ($scope) {
                                console.log('11111');
                            }],
                            onEnter: function () {
                                console.log("enter bsdemo");
                            },
                            onExit: function () {
                                console.log("leave bsdemo");
                            }
                        }
                    }


                });
            }]).controller('indexCtrl', ['$scope', '$rootScope', function ($scope, $rootScope) {
                $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {
                    console.log(11);
                });
            }]);


        </script>
</body>
</html>